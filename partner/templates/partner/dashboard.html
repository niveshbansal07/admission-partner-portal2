{% extends "base.html" %}
{% block content %}

<div class="dashboard">
    <aside class="sidebar">
        <div class="user-box">
            <div>
                <div class="name">Welcome</div>
                <span>{{ partner_name }}</span>
            </div>
        </div>

        <ul>
            <li>
                <a href="/partner/dashboard">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-border-style" viewBox="0 0 16 16">
                        <path
                            d="M1 3.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5zm0 4a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5zm0 4a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm8 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-4 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm8 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-4-4a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5z" />
                    </svg>
                    Dashboard
                </a>
            </li>
            <li>
                <a href="/partner/create_lead">
                    <svg viewBox="0 0 24 24" fill="none">
                        <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    </svg>
                    Create Lead
                </a>
            </li>

            <li>
                <a href="/partner/payment">
                    <!-- WALLET SVG -->
                    <svg viewBox="0 0 24 24" fill="none">
                        <path d="M3 7h18v10H3z" stroke="currentColor" stroke-width="2" />
                        <path d="M16 12h2" stroke="currentColor" stroke-width="2" />
                    </svg>
                    Payment Status
                </a>
            </li>

            <li>
                <a href="/report/partner">
                    <!-- REPORT SVG -->
                    <svg viewBox="0 0 24 24" fill="none">
                        <path d="M4 4h16v16H4z" stroke="currentColor" stroke-width="2" />
                        <path d="M8 16v-4M12 16v-7M16 16v-2" stroke="currentColor" stroke-width="2" />
                    </svg>
                    Reports
                </a>
            </li>

            <li>
                <a href="/partner/profile">
                    <!-- USER SVG -->
                    <svg viewBox="0 0 24 24" fill="none">
                        <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2" />
                        <path d="M4 20c0-4 4-6 8-6s8 2 8 6" stroke="currentColor" stroke-width="2" />
                    </svg>
                    Profile
                </a>
            </li>
        </ul>

    </aside>

    <main class="main">

        <div class="dashboard-header">
            <h2>Partner Dashboard</h2>

            <div class="stats">
                <div class="stat-card">
                    <span>Total Payment</span>
                    ₹ {{ total_payment }}
                </div>
            </div>
        </div>

        <!-- LEADS TABLE -->
        <div class="table">
            <table>
                <thead>
                    <tr>
                        <th>Student</th>
                        <th>Status</th>
                        <th>Course</th>
                        <th>Course Price</th>
                        <th>Your Revenue (25%)</th>
                        <th>Date</th>
                    </tr>
                </thead>

                <tbody>
                    {% for l in leads %}
                    <tr>
                        <td>{{ l.student_name }}</td>
                        <td>
                            <span class="status {{ l.status|lower }}">
                                {{ l.status }}
                            </span>
                        </td>
                        <td>{{ l.course_name }}</td>
                        <td>{% if l.course_price %}₹ {{ l.course_price }}{% endif %}</td>
                        <td>{% if l.partner_revenue %}₹ {{ l.partner_revenue }}{% endif %}</td>
                        <td>{{ l.created_at.strftime('%d %b %Y') }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

    </main>

</div>

{% endblock %}